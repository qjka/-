<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>树形菜单</title>
<style>
*{ margin:0; padding:0}
ul{ list-style:none}
a{ text-decoration:none}
li a{ display:block; height:30px;line-height:30px; font-size:14px; color:#999; padding-left:2em}
.subMenu{ display:none; margin-left:1em}
.hasSub>a{ display:block; background-image:url(a1.png); background-repeat:no-repeat; background-position:10px center;color:#666}
.showSubmenu>a{ background-image:url(a2.png); background-position:11px center; background-repeat:no-repeat}
.ac{ color:#000 !important; background-color:#efefef;}
#objTree{ margin:100px; width:260px; padding:10px; border:1px solid #777}
</style>

<script>
window.onload=function(){
	
	var treeBox=document.getElementById('objTree');
	var aLi=treeBox.getElementsByTagName('li');
	var aA=treeBox.getElementsByTagName('a');
	
	//init------------------------------------------------
	for(var i=0; i<aLi.length; i++){
		//判断是否有子菜单
		var subMenu=aLi[i].getElementsByTagName('ul')[0];
		
		//如果有子菜单,分别添加class
		if(subMenu){
			subMenu.className='subMenu';
			aLi[i].className="hasSub";
		};
		
		//------------------------------------------------
		//每一个li增加独立开关
		aLi[i].show=true;
		
		//绑定事件
		aLi[i].onclick=function(ev){
			ev=ev||window.event;
			ev.cancelBubble=true;//阻止点击事件向父级传播
			
			//显示二级菜单
			var subMenu=this.getElementsByTagName('ul')[0];//在自己下面找二级菜单
			
			if(subMenu){
				//判断开关
				if(this.show){
					subMenu.style.display="block";
					this.className="hasSub showSubmenu";
					this.show=false;
				}else{
					subMenu.style.display="none";
					this.className="hasSub";
					this.show=true;
				}
			};
			
			//标记a标签--------------------------------------
			for(var j=0; j<aA.length; j++){
				aA[j].className="";
			};
			this.getElementsByTagName('a')[0].className="ac";
			
			
			
		};
	};
	
	
}



</script>
</head>

<body>
<div id="objTree">
	<ul class="tree">
        <li>
            <a href="javascript:;"><i></i>一级菜单</a>
            <ul>
                <li><a href="javascript:;">二级菜单</a></li>
                <li><a href="javascript:;">二级菜单</a></li>
                <li><a href="javascript:;">二级菜单</a></li>
                <li>
                    <a href="javascript:;">二级菜单</a>
                    <ul>
                        <li><a href="javascript:;">三级菜单</a>
                            <ul>
                                <li><a href="javascript:;">四级菜单</a></li>
                                <li><a href="javascript:;">四级菜单</a></li>
                                <li><a href="javascript:;">四级菜单</a>
                                    <ul>
                                        <li><a href="javascript:;">五级菜单</a></li>
                                        <li><a href="javascript:;">五级菜单</a></li>
                                        <li><a href="javascript:;">五级菜单</a></li>
                                        <li><a href="javascript:;">五级菜单</a></li>
                                    </ul>
                                </li>
                                <li><a href="javascript:;">三级菜单</a></li>
                            </ul>
                        </li>
                        <li><a href="javascript:;">三级菜单</a></li>
                        <li><a href="javascript:;">三级菜单</a></li>
                        <li><a href="javascript:;">三级菜单</a></li>
                    </ul>
                
                </li>
                <li><a href="javascript:;">二级菜单</a></li>
            </ul>
        </li>
        <li>
            <a href="javascript:;"><i></i>一级菜单</a>
            <ul>
                <li><a href="javascript:;">二级菜单</a></li>
                <li><a href="javascript:;">二级菜单</a></li>
                <li><a href="javascript:;">二级菜单</a></li>
                <li>
                    <a href="javascript:;">二级菜单</a>
                    <ul>
                        <li><a href="javascript:;">三级菜单</a></li>
                        <li><a href="javascript:;">三级菜单</a></li>
                        <li><a href="javascript:;">三级菜单</a></li>
                        <li><a href="javascript:;">三级菜单</a></li>
                    </ul>
                
                </li>
                <li><a href="javascript:;">二级菜单</a></li>
            </ul>
        </li>
        <li>
            <a href="javascript:;">一级菜单</a>
            <ul>
                <li><a href="javascript:;">二级菜单</a></li>
                <li><a href="javascript:;">二级菜单</a></li>
                <li><a href="javascript:;">二级菜单</a></li>
                <li>
                    <a href="javascript:;">二级菜单</a>
                    <ul class="subMenu">
                        <li><a href="javascript:;">三级菜单</a></li>
                        <li><a href="javascript:;">三级菜单</a></li>
                        <li><a href="javascript:;">三级菜单</a></li>
                        <li><a href="javascript:;">三级菜单</a></li>
                    </ul>
                
                </li>
                <li><a href="javascript:;">二级菜单</a></li>
            </ul>
        </li>
        <li><a href="javascript:;">一级菜单</a></li>
    </ul>
</div>
</body>
</html>
